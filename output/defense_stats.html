<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Defense Statistics - 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #2c3e50;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
        }
        .nav-links {
            background: white;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            text-align: center;
        }
        .nav-links a {
            display: inline-block;
            margin: 5px 10px;
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.2s;
        }
        .nav-links a:hover {
            transform: translateY(-2px);
        }
        .filters {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .filter-group {
            display: inline-block;
            margin: 10px 20px 10px 0;
        }
        .filter-group label {
            font-weight: bold;
            margin-right: 10px;
        }
        .filter-group select, .filter-group input {
            padding: 8px 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
        }
        .position-tabs {
            background: white;
            padding: 0;
            border-radius: 15px 15px 0 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 0;
            display: flex;
            overflow-x: auto;
        }
        .position-tab {
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 600;
            border: none;
            background: transparent;
            color: #7f8c8d;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        .position-tab:hover {
            background: #f8f9fa;
        }
        .position-tab.active {
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        .stats-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            cursor: pointer;
            user-select: none;
        }
        th:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #ecf0f1;
        }
        tr:hover {
            background-color: #f8f9fa;
        }
        .rank {
            font-weight: bold;
            color: #667eea;
        }
        .rank-1 { color: #f39c12; }
        .rank-2 { color: #95a5a6; }
        .rank-3 { color: #cd7f32; }
        .team-name {
            font-weight: 600;
            font-size: 1.1em;
        }
        .good { color: #27ae60; font-weight: bold; }
        .bad { color: #e74c3c; font-weight: bold; }
        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .chart-container h3 {
            color: #667eea;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>NFL Defense Statistics</h1>
        <div class="subtitle">2025 Season - Fantasy Points Allowed Analysis</div>
    </div>
    
    <div class="nav-links">
        <a href="index.html">üè† Home</a>
        <a href="player_stats_1264304480178950144.html">üìä Player Stats</a>
        <a href="season_stats_1264304480178950144.html">üèÜ Season Stats</a>
    </div>
    
    <div class="position-tabs">
        <button class="position-tab active" onclick="setPositionFilter('ALL')">All Defenses</button>
        <button class="position-tab" onclick="setPositionFilter('QB')">vs QB</button>
        <button class="position-tab" onclick="setPositionFilter('RB')">vs RB</button>
        <button class="position-tab" onclick="setPositionFilter('WR')">vs WR</button>
        <button class="position-tab" onclick="setPositionFilter('TE')">vs TE</button>
    </div>
    
    <div class="filters">
        <input type="hidden" id="positionFilter" value="ALL">
        <div class="filter-group">
            <label for="searchTeam">Search Team:</label>
            <input type="text" id="searchTeam" placeholder="Team name..." onkeyup="filterTable()">
        </div>
        <div class="filter-group">
            <label for="sortBy">Sort By:</label>
            <select id="sortBy" onchange="sortTable(this.value)">
                <option value="total">Total Points Allowed</option>
                <option value="qb">QB Points Allowed</option>
                <option value="rb">RB Points Allowed</option>
                <option value="wr">WR Points Allowed</option>
                <option value="te">TE Points Allowed</option>
                <option value="rush_yds">Rush Yards Allowed</option>
                <option value="rec_yds">Receiving Yards Allowed</option>
            </select>
        </div>
    </div>
    
    <div class="chart-container">
        <h3>Fantasy Points Allowed by Position</h3>
        <canvas id="positionChart"></canvas>
    </div>
    
    <div class="stats-container">
        <h2 style="margin-bottom: 20px; color: #667eea;">Defense Rankings</h2>
        <table id="defenseTable">
            <thead>
                <tr>
                    <th onclick="sortTableByColumn(0)">Rank</th>
                    <th onclick="sortTableByColumn(1)">Team</th>
                    <th onclick="sortTableByColumn(2)" title="Total fantasy points allowed">Total Pts</th>
                    <th onclick="sortTableByColumn(3)" title="Average fantasy points allowed per game">Avg PPG</th>
                    <th onclick="sortTableByColumn(4)" title="Fantasy points allowed to QBs">QB Pts</th>
                    <th onclick="sortTableByColumn(5)" title="Fantasy points allowed to RBs">RB Pts</th>
                    <th onclick="sortTableByColumn(6)" title="Fantasy points allowed to WRs">WR Pts</th>
                    <th onclick="sortTableByColumn(7)" title="Fantasy points allowed to TEs">TE Pts</th>
                    <th onclick="sortTableByColumn(8)" title="Total rushing yards allowed">Rush Yds</th>
                    <th onclick="sortTableByColumn(9)" title="Average rushing yards per game">Rush Yds/G</th>
                    <th onclick="sortTableByColumn(10)" title="Rushing TDs allowed">Rush TDs</th>
                    <th onclick="sortTableByColumn(11)" title="Total receiving yards allowed">Rec Yds</th>
                    <th onclick="sortTableByColumn(12)" title="Average receiving yards per game">Rec Yds/G</th>
                    <th onclick="sortTableByColumn(13)" title="Receiving TDs allowed">Rec TDs</th>
                    <th onclick="sortTableByColumn(14)" title="Passing TDs allowed">Pass TDs</th>
                </tr>
            </thead>
            <tbody>
                <tr data-team="HOU" data-qb="179.56" data-rb="248.59999999999994" data-wr="338.09999999999997" data-te="126.70000000000002">
                    <td class="rank-1">1</td>
                    <td class="team-name">HOU</td>
                    <td>893.0</td>
                    <td>68.7</td>
                    <td>179.6</td>
                    <td>248.6</td>
                    <td>338.1</td>
                    <td>126.7</td>
                    <td>1226</td>
                    <td>94.3</td>
                    <td>10</td>
                    <td>2508</td>
                    <td>192.9</td>
                    <td>12</td>
                    <td>12</td>
                </tr>
                <tr data-team="LAC" data-qb="189.30000000000004" data-rb="272.8" data-wr="325.5200000000001" data-te="146.4">
                    <td class="rank-2">2</td>
                    <td class="team-name">LAC</td>
                    <td>934.0</td>
                    <td>71.8</td>
                    <td>189.3</td>
                    <td>272.8</td>
                    <td>325.5</td>
                    <td>146.4</td>
                    <td>1414</td>
                    <td>108.8</td>
                    <td>15</td>
                    <td>2441</td>
                    <td>187.8</td>
                    <td>12</td>
                    <td>12</td>
                </tr>
                <tr data-team="MIN" data-qb="185.32000000000002" data-rb="265.0" data-wr="320.90000000000003" data-te="173.1">
                    <td class="rank-3">3</td>
                    <td class="team-name">MIN</td>
                    <td>944.3</td>
                    <td>72.6</td>
                    <td>185.3</td>
                    <td>265.0</td>
                    <td>320.9</td>
                    <td>173.1</td>
                    <td>1645</td>
                    <td>126.5</td>
                    <td>11</td>
                    <td>2463</td>
                    <td>189.5</td>
                    <td>14</td>
                    <td>14</td>
                </tr>
                <tr data-team="CLE" data-qb="193.78" data-rb="265.78" data-wr="336.29999999999995" data-te="164.6">
                    <td class="rank">4</td>
                    <td class="team-name">CLE</td>
                    <td>960.5</td>
                    <td>73.9</td>
                    <td>193.8</td>
                    <td>265.8</td>
                    <td>336.3</td>
                    <td>164.6</td>
                    <td>1400</td>
                    <td>107.7</td>
                    <td>9</td>
                    <td>2417</td>
                    <td>185.9</td>
                    <td>20</td>
                    <td>19</td>
                </tr>
                <tr data-team="DEN" data-qb="196.16" data-rb="222.5" data-wr="358.5000000000001" data-te="184.4">
                    <td class="rank">5</td>
                    <td class="team-name">DEN</td>
                    <td>961.6</td>
                    <td>74.0</td>
                    <td>196.2</td>
                    <td>222.5</td>
                    <td>358.5</td>
                    <td>184.4</td>
                    <td>1157</td>
                    <td>89.0</td>
                    <td>9</td>
                    <td>2849</td>
                    <td>219.2</td>
                    <td>13</td>
                    <td>13</td>
                </tr>
                <tr data-team="KC" data-qb="224.57999999999996" data-rb="246.7" data-wr="384.20000000000005" data-te="139.49999999999997">
                    <td class="rank">6</td>
                    <td class="team-name">KC</td>
                    <td>995.0</td>
                    <td>76.5</td>
                    <td>224.6</td>
                    <td>246.7</td>
                    <td>384.2</td>
                    <td>139.5</td>
                    <td>1293</td>
                    <td>99.5</td>
                    <td>12</td>
                    <td>2762</td>
                    <td>212.5</td>
                    <td>14</td>
                    <td>14</td>
                </tr>
                <tr data-team="BUF" data-qb="200.88" data-rb="328.4" data-wr="385.29999999999995" data-te="95.29999999999998">
                    <td class="rank">7</td>
                    <td class="team-name">BUF</td>
                    <td>1009.9</td>
                    <td>77.7</td>
                    <td>200.9</td>
                    <td>328.4</td>
                    <td>385.3</td>
                    <td>95.3</td>
                    <td>1752</td>
                    <td>134.8</td>
                    <td>19</td>
                    <td>2412</td>
                    <td>185.5</td>
                    <td>16</td>
                    <td>16</td>
                </tr>
                <tr data-team="GB" data-qb="202.62" data-rb="260.9" data-wr="376.2" data-te="172.2">
                    <td class="rank">8</td>
                    <td class="team-name">GB</td>
                    <td>1011.9</td>
                    <td>77.8</td>
                    <td>202.6</td>
                    <td>260.9</td>
                    <td>376.2</td>
                    <td>172.2</td>
                    <td>1318</td>
                    <td>101.4</td>
                    <td>9</td>
                    <td>2614</td>
                    <td>201.1</td>
                    <td>17</td>
                    <td>17</td>
                </tr>
                <tr data-team="SEA" data-qb="220.23999999999998" data-rb="246.10000000000002" data-wr="343.2000000000001" data-te="213.3">
                    <td class="rank">9</td>
                    <td class="team-name">SEA</td>
                    <td>1022.8</td>
                    <td>78.7</td>
                    <td>220.2</td>
                    <td>246.1</td>
                    <td>343.2</td>
                    <td>213.3</td>
                    <td>1185</td>
                    <td>91.2</td>
                    <td>7</td>
                    <td>2829</td>
                    <td>217.6</td>
                    <td>16</td>
                    <td>16</td>
                </tr>
                <tr data-team="PHI" data-qb="225.44" data-rb="316.7999999999999" data-wr="377.50000000000006" data-te="111.89999999999999">
                    <td class="rank">10</td>
                    <td class="team-name">PHI</td>
                    <td>1031.6</td>
                    <td>79.4</td>
                    <td>225.4</td>
                    <td>316.8</td>
                    <td>377.5</td>
                    <td>111.9</td>
                    <td>1716</td>
                    <td>132.0</td>
                    <td>14</td>
                    <td>2848</td>
                    <td>219.1</td>
                    <td>13</td>
                    <td>13</td>
                </tr>
                <tr data-team="NE" data-qb="227.34" data-rb="219.8" data-wr="402.50000000000006" data-te="188.20000000000002">
                    <td class="rank">11</td>
                    <td class="team-name">NE</td>
                    <td>1037.8</td>
                    <td>79.8</td>
                    <td>227.3</td>
                    <td>219.8</td>
                    <td>402.5</td>
                    <td>188.2</td>
                    <td>1176</td>
                    <td>90.5</td>
                    <td>5</td>
                    <td>2848</td>
                    <td>219.1</td>
                    <td>21</td>
                    <td>21</td>
                </tr>
                <tr data-team="NO" data-qb="216.66000000000003" data-rb="297.5" data-wr="362.90000000000003" data-te="165.2">
                    <td class="rank">12</td>
                    <td class="team-name">NO</td>
                    <td>1042.3</td>
                    <td>80.2</td>
                    <td>216.7</td>
                    <td>297.5</td>
                    <td>362.9</td>
                    <td>165.2</td>
                    <td>1702</td>
                    <td>130.9</td>
                    <td>11</td>
                    <td>2549</td>
                    <td>196.1</td>
                    <td>21</td>
                    <td>21</td>
                </tr>
                <tr data-team="LA" data-qb="220.01999999999998" data-rb="224.29999999999998" data-wr="424.19999999999993" data-te="173.79999999999998">
                    <td class="rank">13</td>
                    <td class="team-name">LA</td>
                    <td>1042.3</td>
                    <td>80.2</td>
                    <td>220.0</td>
                    <td>224.3</td>
                    <td>424.2</td>
                    <td>173.8</td>
                    <td>1346</td>
                    <td>103.5</td>
                    <td>4</td>
                    <td>2954</td>
                    <td>227.2</td>
                    <td>18</td>
                    <td>18</td>
                </tr>
                <tr data-team="CAR" data-qb="210.8" data-rb="321.2999999999999" data-wr="357.80000000000007" data-te="185.00000000000003">
                    <td class="rank">14</td>
                    <td class="team-name">CAR</td>
                    <td>1074.9</td>
                    <td>82.7</td>
                    <td>210.8</td>
                    <td>321.3</td>
                    <td>357.8</td>
                    <td>185.0</td>
                    <td>1543</td>
                    <td>118.7</td>
                    <td>16</td>
                    <td>2890</td>
                    <td>222.3</td>
                    <td>16</td>
                    <td>16</td>
                </tr>
                <tr data-team="ATL" data-qb="241.1" data-rb="302.80000000000007" data-wr="433.8999999999999" data-te="104.90000000000002">
                    <td class="rank">15</td>
                    <td class="team-name">ATL</td>
                    <td>1082.7</td>
                    <td>83.3</td>
                    <td>241.1</td>
                    <td>302.8</td>
                    <td>433.9</td>
                    <td>104.9</td>
                    <td>1705</td>
                    <td>131.2</td>
                    <td>10</td>
                    <td>2756</td>
                    <td>212.0</td>
                    <td>21</td>
                    <td>21</td>
                </tr>
                <tr data-team="NYJ" data-qb="215.52" data-rb="339.7" data-wr="367.1000000000001" data-te="167.89999999999998">
                    <td class="rank">16</td>
                    <td class="team-name">NYJ</td>
                    <td>1090.2</td>
                    <td>83.9</td>
                    <td>215.5</td>
                    <td>339.7</td>
                    <td>367.1</td>
                    <td>167.9</td>
                    <td>1813</td>
                    <td>139.5</td>
                    <td>17</td>
                    <td>2628</td>
                    <td>202.2</td>
                    <td>20</td>
                    <td>20</td>
                </tr>
                <tr data-team="MIA" data-qb="250.52000000000007" data-rb="285.1" data-wr="354.49999999999994" data-te="214.6">
                    <td class="rank">17</td>
                    <td class="team-name">MIA</td>
                    <td>1104.7</td>
                    <td>85.0</td>
                    <td>250.5</td>
                    <td>285.1</td>
                    <td>354.5</td>
                    <td>214.6</td>
                    <td>1715</td>
                    <td>131.9</td>
                    <td>10</td>
                    <td>2823</td>
                    <td>217.2</td>
                    <td>20</td>
                    <td>20</td>
                </tr>
                <tr data-team="JAX" data-qb="263.66" data-rb="230.8" data-wr="423.5" data-te="213.4">
                    <td class="rank">18</td>
                    <td class="team-name">JAX</td>
                    <td>1131.4</td>
                    <td>87.0</td>
                    <td>263.7</td>
                    <td>230.8</td>
                    <td>423.5</td>
                    <td>213.4</td>
                    <td>1078</td>
                    <td>82.9</td>
                    <td>9</td>
                    <td>3102</td>
                    <td>238.6</td>
                    <td>22</td>
                    <td>22</td>
                </tr>
                <tr data-team="LV" data-qb="235.53999999999996" data-rb="317.70000000000005" data-wr="467.19999999999993" data-te="114.10000000000002">
                    <td class="rank">19</td>
                    <td class="team-name">LV</td>
                    <td>1134.5</td>
                    <td>87.3</td>
                    <td>235.5</td>
                    <td>317.7</td>
                    <td>467.2</td>
                    <td>114.1</td>
                    <td>1481</td>
                    <td>113.9</td>
                    <td>18</td>
                    <td>2896</td>
                    <td>222.8</td>
                    <td>19</td>
                    <td>19</td>
                </tr>
                <tr data-team="ARI" data-qb="225.32000000000005" data-rb="327.40000000000003" data-wr="400.2" data-te="189.79999999999998">
                    <td class="rank">20</td>
                    <td class="team-name">ARI</td>
                    <td>1142.7</td>
                    <td>87.9</td>
                    <td>225.3</td>
                    <td>327.4</td>
                    <td>400.2</td>
                    <td>189.8</td>
                    <td>1600</td>
                    <td>123.1</td>
                    <td>15</td>
                    <td>3054</td>
                    <td>234.9</td>
                    <td>18</td>
                    <td>20</td>
                </tr>
                <tr data-team="DET" data-qb="277.18" data-rb="216.09999999999997" data-wr="500.42" data-te="156.5">
                    <td class="rank">21</td>
                    <td class="team-name">DET</td>
                    <td>1150.2</td>
                    <td>88.5</td>
                    <td>277.2</td>
                    <td>216.1</td>
                    <td>500.4</td>
                    <td>156.5</td>
                    <td>1320</td>
                    <td>101.5</td>
                    <td>9</td>
                    <td>3130</td>
                    <td>240.8</td>
                    <td>26</td>
                    <td>25</td>
                </tr>
                <tr data-team="BAL" data-qb="242.22" data-rb="314.69999999999993" data-wr="454.99999999999994" data-te="143.69999999999996">
                    <td class="rank">22</td>
                    <td class="team-name">BAL</td>
                    <td>1155.6</td>
                    <td>88.9</td>
                    <td>242.2</td>
                    <td>314.7</td>
                    <td>455.0</td>
                    <td>143.7</td>
                    <td>1455</td>
                    <td>111.9</td>
                    <td>13</td>
                    <td>3208</td>
                    <td>246.8</td>
                    <td>19</td>
                    <td>19</td>
                </tr>
                <tr data-team="SF" data-qb="242.9" data-rb="295.99999999999994" data-wr="438.29999999999995" data-te="188.60000000000002">
                    <td class="rank">23</td>
                    <td class="team-name">SF</td>
                    <td>1165.8</td>
                    <td>89.7</td>
                    <td>242.9</td>
                    <td>296.0</td>
                    <td>438.3</td>
                    <td>188.6</td>
                    <td>1349</td>
                    <td>103.8</td>
                    <td>8</td>
                    <td>3135</td>
                    <td>241.2</td>
                    <td>23</td>
                    <td>23</td>
                </tr>
                <tr data-team="IND" data-qb="230.32" data-rb="275.40000000000003" data-wr="477.29999999999995" data-te="204.00000000000003">
                    <td class="rank">24</td>
                    <td class="team-name">IND</td>
                    <td>1187.0</td>
                    <td>91.3</td>
                    <td>230.3</td>
                    <td>275.4</td>
                    <td>477.3</td>
                    <td>204.0</td>
                    <td>1282</td>
                    <td>98.6</td>
                    <td>13</td>
                    <td>3427</td>
                    <td>263.6</td>
                    <td>18</td>
                    <td>18</td>
                </tr>
                <tr data-team="TB" data-qb="285.79999999999995" data-rb="306.6" data-wr="425.99999999999983" data-te="170.10000000000002">
                    <td class="rank">25</td>
                    <td class="team-name">TB</td>
                    <td>1188.5</td>
                    <td>91.4</td>
                    <td>285.8</td>
                    <td>306.6</td>
                    <td>426.0</td>
                    <td>170.1</td>
                    <td>1342</td>
                    <td>103.2</td>
                    <td>15</td>
                    <td>3321</td>
                    <td>255.5</td>
                    <td>21</td>
                    <td>21</td>
                </tr>
                <tr data-team="TEN" data-qb="261.43999999999994" data-rb="306.3" data-wr="460.20000000000016" data-te="172.5">
                    <td class="rank">26</td>
                    <td class="team-name">TEN</td>
                    <td>1200.4</td>
                    <td>92.3</td>
                    <td>261.4</td>
                    <td>306.3</td>
                    <td>460.2</td>
                    <td>172.5</td>
                    <td>1592</td>
                    <td>122.5</td>
                    <td>18</td>
                    <td>3194</td>
                    <td>245.7</td>
                    <td>21</td>
                    <td>22</td>
                </tr>
                <tr data-team="CHI" data-qb="283.62" data-rb="286.30000000000007" data-wr="459.9000000000001" data-te="182.09999999999997">
                    <td class="rank">27</td>
                    <td class="team-name">CHI</td>
                    <td>1211.9</td>
                    <td>93.2</td>
                    <td>283.6</td>
                    <td>286.3</td>
                    <td>459.9</td>
                    <td>182.1</td>
                    <td>1723</td>
                    <td>132.5</td>
                    <td>12</td>
                    <td>3013</td>
                    <td>231.8</td>
                    <td>26</td>
                    <td>27</td>
                </tr>
                <tr data-team="PIT" data-qb="276.94" data-rb="264.49999999999994" data-wr="477.59999999999997" data-te="209.0">
                    <td class="rank">28</td>
                    <td class="team-name">PIT</td>
                    <td>1228.0</td>
                    <td>94.5</td>
                    <td>276.9</td>
                    <td>264.5</td>
                    <td>477.6</td>
                    <td>209.0</td>
                    <td>1626</td>
                    <td>125.1</td>
                    <td>10</td>
                    <td>3396</td>
                    <td>261.2</td>
                    <td>21</td>
                    <td>21</td>
                </tr>
                <tr data-team="WAS" data-qb="267.98" data-rb="326.50000000000006" data-wr="459.7" data-te="208.9">
                    <td class="rank">29</td>
                    <td class="team-name">WAS</td>
                    <td>1263.1</td>
                    <td>97.2</td>
                    <td>268.0</td>
                    <td>326.5</td>
                    <td>459.7</td>
                    <td>208.9</td>
                    <td>1762</td>
                    <td>135.5</td>
                    <td>13</td>
                    <td>3392</td>
                    <td>260.9</td>
                    <td>26</td>
                    <td>26</td>
                </tr>
                <tr data-team="NYG" data-qb="283.7200000000001" data-rb="371.1" data-wr="477.1000000000001" data-te="153.86">
                    <td class="rank">30</td>
                    <td class="team-name">NYG</td>
                    <td>1285.8</td>
                    <td>98.9</td>
                    <td>283.7</td>
                    <td>371.1</td>
                    <td>477.1</td>
                    <td>153.9</td>
                    <td>1988</td>
                    <td>152.9</td>
                    <td>17</td>
                    <td>3189</td>
                    <td>245.3</td>
                    <td>23</td>
                    <td>23</td>
                </tr>
                <tr data-team="CIN" data-qb="296.4200000000001" data-rb="403.18" data-wr="346.78000000000014" data-te="315.40000000000003">
                    <td class="rank">31</td>
                    <td class="team-name">CIN</td>
                    <td>1361.8</td>
                    <td>104.8</td>
                    <td>296.4</td>
                    <td>403.2</td>
                    <td>346.8</td>
                    <td>315.4</td>
                    <td>2019</td>
                    <td>155.3</td>
                    <td>15</td>
                    <td>3442</td>
                    <td>264.8</td>
                    <td>29</td>
                    <td>26</td>
                </tr>
                <tr data-team="DAL" data-qb="327.62000000000006" data-rb="337.9" data-wr="525.6999999999999" data-te="171.3">
                    <td class="rank">32</td>
                    <td class="team-name">DAL</td>
                    <td>1362.5</td>
                    <td>104.8</td>
                    <td>327.6</td>
                    <td>337.9</td>
                    <td>525.7</td>
                    <td>171.3</td>
                    <td>1605</td>
                    <td>123.5</td>
                    <td>17</td>
                    <td>3543</td>
                    <td>272.5</td>
                    <td>29</td>
                    <td>29</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <script>
        const allDefenseData = [{"team": "HOU", "total": 892.9599999999999, "qb": 179.56, "rb": 248.59999999999994, "wr": 338.09999999999997, "te": 126.70000000000002, "rush_yds": 1226, "rec_yds": 2508, "games": 13}, {"team": "LAC", "total": 934.0199999999996, "qb": 189.30000000000004, "rb": 272.8, "wr": 325.5200000000001, "te": 146.4, "rush_yds": 1414, "rec_yds": 2441, "games": 13}, {"team": "MIN", "total": 944.3200000000005, "qb": 185.32000000000002, "rb": 265.0, "wr": 320.90000000000003, "te": 173.1, "rush_yds": 1645, "rec_yds": 2463, "games": 13}, {"team": "CLE", "total": 960.4600000000003, "qb": 193.78, "rb": 265.78, "wr": 336.29999999999995, "te": 164.6, "rush_yds": 1400, "rec_yds": 2417, "games": 13}, {"team": "DEN", "total": 961.5600000000002, "qb": 196.16, "rb": 222.5, "wr": 358.5000000000001, "te": 184.4, "rush_yds": 1157, "rec_yds": 2849, "games": 13}, {"team": "KC", "total": 994.9800000000002, "qb": 224.57999999999996, "rb": 246.7, "wr": 384.20000000000005, "te": 139.49999999999997, "rush_yds": 1293, "rec_yds": 2762, "games": 13}, {"team": "BUF", "total": 1009.8800000000002, "qb": 200.88, "rb": 328.4, "wr": 385.29999999999995, "te": 95.29999999999998, "rush_yds": 1752, "rec_yds": 2412, "games": 13}, {"team": "GB", "total": 1011.9199999999998, "qb": 202.62, "rb": 260.9, "wr": 376.2, "te": 172.2, "rush_yds": 1318, "rec_yds": 2614, "games": 13}, {"team": "SEA", "total": 1022.8399999999999, "qb": 220.23999999999998, "rb": 246.10000000000002, "wr": 343.2000000000001, "te": 213.3, "rush_yds": 1185, "rec_yds": 2829, "games": 13}, {"team": "PHI", "total": 1031.64, "qb": 225.44, "rb": 316.7999999999999, "wr": 377.50000000000006, "te": 111.89999999999999, "rush_yds": 1716, "rec_yds": 2848, "games": 13}, {"team": "NE", "total": 1037.8400000000001, "qb": 227.34, "rb": 219.8, "wr": 402.50000000000006, "te": 188.20000000000002, "rush_yds": 1176, "rec_yds": 2848, "games": 13}, {"team": "NO", "total": 1042.2599999999998, "qb": 216.66000000000003, "rb": 297.5, "wr": 362.90000000000003, "te": 165.2, "rush_yds": 1702, "rec_yds": 2549, "games": 13}, {"team": "LA", "total": 1042.3200000000002, "qb": 220.01999999999998, "rb": 224.29999999999998, "wr": 424.19999999999993, "te": 173.79999999999998, "rush_yds": 1346, "rec_yds": 2954, "games": 13}, {"team": "CAR", "total": 1074.9, "qb": 210.8, "rb": 321.2999999999999, "wr": 357.80000000000007, "te": 185.00000000000003, "rush_yds": 1543, "rec_yds": 2890, "games": 13}, {"team": "ATL", "total": 1082.7, "qb": 241.1, "rb": 302.80000000000007, "wr": 433.8999999999999, "te": 104.90000000000002, "rush_yds": 1705, "rec_yds": 2756, "games": 13}, {"team": "NYJ", "total": 1090.22, "qb": 215.52, "rb": 339.7, "wr": 367.1000000000001, "te": 167.89999999999998, "rush_yds": 1813, "rec_yds": 2628, "games": 13}, {"team": "MIA", "total": 1104.72, "qb": 250.52000000000007, "rb": 285.1, "wr": 354.49999999999994, "te": 214.6, "rush_yds": 1715, "rec_yds": 2823, "games": 13}, {"team": "JAX", "total": 1131.36, "qb": 263.66, "rb": 230.8, "wr": 423.5, "te": 213.4, "rush_yds": 1078, "rec_yds": 3102, "games": 13}, {"team": "LV", "total": 1134.54, "qb": 235.53999999999996, "rb": 317.70000000000005, "wr": 467.19999999999993, "te": 114.10000000000002, "rush_yds": 1481, "rec_yds": 2896, "games": 13}, {"team": "ARI", "total": 1142.7199999999996, "qb": 225.32000000000005, "rb": 327.40000000000003, "wr": 400.2, "te": 189.79999999999998, "rush_yds": 1600, "rec_yds": 3054, "games": 13}, {"team": "DET", "total": 1150.2, "qb": 277.18, "rb": 216.09999999999997, "wr": 500.42, "te": 156.5, "rush_yds": 1320, "rec_yds": 3130, "games": 13}, {"team": "BAL", "total": 1155.6200000000003, "qb": 242.22, "rb": 314.69999999999993, "wr": 454.99999999999994, "te": 143.69999999999996, "rush_yds": 1455, "rec_yds": 3208, "games": 13}, {"team": "SF", "total": 1165.8000000000004, "qb": 242.9, "rb": 295.99999999999994, "wr": 438.29999999999995, "te": 188.60000000000002, "rush_yds": 1349, "rec_yds": 3135, "games": 13}, {"team": "IND", "total": 1187.0199999999998, "qb": 230.32, "rb": 275.40000000000003, "wr": 477.29999999999995, "te": 204.00000000000003, "rush_yds": 1282, "rec_yds": 3427, "games": 13}, {"team": "TB", "total": 1188.5000000000002, "qb": 285.79999999999995, "rb": 306.6, "wr": 425.99999999999983, "te": 170.10000000000002, "rush_yds": 1342, "rec_yds": 3321, "games": 13}, {"team": "TEN", "total": 1200.44, "qb": 261.43999999999994, "rb": 306.3, "wr": 460.20000000000016, "te": 172.5, "rush_yds": 1592, "rec_yds": 3194, "games": 13}, {"team": "CHI", "total": 1211.92, "qb": 283.62, "rb": 286.30000000000007, "wr": 459.9000000000001, "te": 182.09999999999997, "rush_yds": 1723, "rec_yds": 3013, "games": 13}, {"team": "PIT", "total": 1228.0400000000002, "qb": 276.94, "rb": 264.49999999999994, "wr": 477.59999999999997, "te": 209.0, "rush_yds": 1626, "rec_yds": 3396, "games": 13}, {"team": "WAS", "total": 1263.0800000000006, "qb": 267.98, "rb": 326.50000000000006, "wr": 459.7, "te": 208.9, "rush_yds": 1762, "rec_yds": 3392, "games": 13}, {"team": "NYG", "total": 1285.78, "qb": 283.7200000000001, "rb": 371.1, "wr": 477.1000000000001, "te": 153.86, "rush_yds": 1988, "rec_yds": 3189, "games": 13}, {"team": "CIN", "total": 1361.7799999999997, "qb": 296.4200000000001, "rb": 403.18, "wr": 346.78000000000014, "te": 315.40000000000003, "rush_yds": 2019, "rec_yds": 3442, "games": 13}, {"team": "DAL", "total": 1362.5200000000007, "qb": 327.62000000000006, "rb": 337.9, "wr": 525.6999999999999, "te": 171.3, "rush_yds": 1605, "rec_yds": 3543, "games": 13}];
        
        // Position Chart
        const ctx = document.getElementById('positionChart').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["HOU", "LAC", "MIN", "CLE", "DEN", "KC", "BUF", "GB", "SEA", "PHI", "NE", "NO", "LA", "CAR", "ATL", "NYJ", "MIA", "JAX", "LV", "ARI", "DET", "BAL", "SF", "IND", "TB", "TEN", "CHI", "PIT", "WAS", "NYG", "CIN", "DAL"],
                datasets: [
                    {
                        label: 'QB Points',
                        data: [179.56, 189.30000000000004, 185.32000000000002, 193.78, 196.16, 224.57999999999996, 200.88, 202.62, 220.23999999999998, 225.44, 227.34, 216.66000000000003, 220.01999999999998, 210.8, 241.1, 215.52, 250.52000000000007, 263.66, 235.53999999999996, 225.32000000000005, 277.18, 242.22, 242.9, 230.32, 285.79999999999995, 261.43999999999994, 283.62, 276.94, 267.98, 283.7200000000001, 296.4200000000001, 327.62000000000006],
                        backgroundColor: 'rgba(231, 76, 60, 0.7)',
                        borderColor: 'rgba(231, 76, 60, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'RB Points',
                        data: [248.59999999999994, 272.8, 265.0, 265.78, 222.5, 246.7, 328.4, 260.9, 246.10000000000002, 316.7999999999999, 219.8, 297.5, 224.29999999999998, 321.2999999999999, 302.80000000000007, 339.7, 285.1, 230.8, 317.70000000000005, 327.40000000000003, 216.09999999999997, 314.69999999999993, 295.99999999999994, 275.40000000000003, 306.6, 306.3, 286.30000000000007, 264.49999999999994, 326.50000000000006, 371.1, 403.18, 337.9],
                        backgroundColor: 'rgba(52, 152, 219, 0.7)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'WR Points',
                        data: [338.09999999999997, 325.5200000000001, 320.90000000000003, 336.29999999999995, 358.5000000000001, 384.20000000000005, 385.29999999999995, 376.2, 343.2000000000001, 377.50000000000006, 402.50000000000006, 362.90000000000003, 424.19999999999993, 357.80000000000007, 433.8999999999999, 367.1000000000001, 354.49999999999994, 423.5, 467.19999999999993, 400.2, 500.42, 454.99999999999994, 438.29999999999995, 477.29999999999995, 425.99999999999983, 460.20000000000016, 459.9000000000001, 477.59999999999997, 459.7, 477.1000000000001, 346.78000000000014, 525.6999999999999],
                        backgroundColor: 'rgba(46, 204, 113, 0.7)',
                        borderColor: 'rgba(46, 204, 113, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'TE Points',
                        data: [126.70000000000002, 146.4, 173.1, 164.6, 184.4, 139.49999999999997, 95.29999999999998, 172.2, 213.3, 111.89999999999999, 188.20000000000002, 165.2, 173.79999999999998, 185.00000000000003, 104.90000000000002, 167.89999999999998, 214.6, 213.4, 114.10000000000002, 189.79999999999998, 156.5, 143.69999999999996, 188.60000000000002, 204.00000000000003, 170.10000000000002, 172.5, 182.09999999999997, 209.0, 208.9, 153.86, 315.40000000000003, 171.3],
                        backgroundColor: 'rgba(243, 156, 18, 0.7)',
                        borderColor: 'rgba(243, 156, 18, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                aspectRatio: 2,
                scales: {
                    x: {
                        stacked: true,
                        title: {
                            display: true,
                            text: 'Team'
                        }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Fantasy Points Allowed'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                }
            }
        });
        
        function setPositionFilter(position) {
            document.getElementById("positionFilter").value = position;
            
            // Update tab styling
            document.querySelectorAll('.position-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            filterTable();
        }
        
        function filterTable() {
            const searchText = document.getElementById("searchTeam").value.toLowerCase();
            const posFilter = document.getElementById("positionFilter").value;
            
            const tbody = document.getElementById("defenseTable").querySelector("tbody");
            const rows = tbody.querySelectorAll("tr");
            
            rows.forEach(row => {
                const team = row.dataset.team.toLowerCase();
                const matchesSearch = team.includes(searchText);
                
                row.style.display = matchesSearch ? "" : "none";
            });
            
            // Update rankings for visible rows
            updateRankings();
        }
        
        function updateRankings() {
            const tbody = document.getElementById("defenseTable").querySelector("tbody");
            const visibleRows = Array.from(tbody.querySelectorAll("tr")).filter(row =>
                row.style.display !== "none"
            );
            visibleRows.forEach((row, idx) => {
                const rankCell = row.cells[0];
                rankCell.textContent = idx + 1;
                rankCell.className = idx < 3 ? `rank-${idx + 1}` : 'rank';
            });
        }
        
        function sortTableByColumn(columnIndex) {
            const table = document.getElementById("defenseTable");
            const tbody = table.querySelector("tbody");
            const rows = Array.from(tbody.querySelectorAll("tr"));
            
            const currentDir = table.dataset.sortDir || "asc";
            const newDir = currentDir === "desc" ? "asc" : "desc";
            table.dataset.sortDir = newDir;
            
            rows.sort((a, b) => {
                let aVal = a.cells[columnIndex].textContent.trim();
                let bVal = b.cells[columnIndex].textContent.trim();
                
                const aNum = parseFloat(aVal);
                const bNum = parseFloat(bVal);
                
                if (!isNaN(aNum) && !isNaN(bNum)) {
                    return newDir === "desc" ? bNum - aNum : aNum - bNum;
                } else {
                    return newDir === "desc" ?
                        bVal.localeCompare(aVal) :
                        aVal.localeCompare(bVal);
                }
            });
            
            rows.forEach(row => tbody.appendChild(row));
            updateRankings();
        }
        
        function sortTable(sortBy) {
            const tbody = document.getElementById("defenseTable").querySelector("tbody");
            const rows = Array.from(tbody.querySelectorAll("tr"));
            
            rows.sort((a, b) => {
                const aTeam = a.dataset.team;
                const bTeam = b.dataset.team;
                const aData = allDefenseData.find(d => d.team === aTeam);
                const bData = allDefenseData.find(d => d.team === bTeam);
                
                let aVal = 0, bVal = 0;
                
                switch(sortBy) {
                    case 'total': aVal = aData.total; bVal = bData.total; break;
                    case 'qb': aVal = aData.qb; bVal = bData.qb; break;
                    case 'rb': aVal = aData.rb; bVal = bData.rb; break;
                    case 'wr': aVal = aData.wr; bVal = bData.wr; break;
                    case 'te': aVal = aData.te; bVal = bData.te; break;
                    case 'rush_yds': aVal = aData.rush_yds; bVal = bData.rush_yds; break;
                    case 'rec_yds': aVal = aData.rec_yds; bVal = bData.rec_yds; break;
                }
                
                return aVal - bVal;  // Always ascending (best defenses = fewest points allowed)
            });
            
            rows.forEach(row => tbody.appendChild(row));
            updateRankings();
        }
    </script>
</body>
</html>
